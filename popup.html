<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Milo Mate</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body id="milo-mate-popup">
  <!-- Header -->
  <div class="header" id="milo-mate-header">
    <div class="header-content">
      <div class="logo">
        <img src="icons/icon128.png" alt="Milo Mate" width="60" height="60">
      </div>
      <div class="header-actions">

        <button class="icon-btn" id="close-btn" title="Close">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Navigation Tabs -->
  <div class="nav-tabs">
    <button class="tab active" data-tab="chat">Chat</button>
    <button class="tab" data-tab="meetings">Live Transcription</button>
    <button class="tab" data-tab="summarize">Privacy</button>

    <button class="tab" data-tab="settings">Settings</button>
  </div>

  <!-- Tab Contents -->
  <div class="content">

    <!-- Chat Tab -->
    <div class="tab-content active" id="chat-content">
      <div class="chat-container" id="chat-container">
        <div class="messages" id="chat-messages">
          <div class="message assistant">
            <div class="message-bubble">
              <div class="message-text">Hi there! I'm Milo Mate, your autonomous support assistant. I can help you write
                emails, translate required content for you in your language with voice support, real time calls to
                customer care in any language, summarize FAQs and any other support you can think of. How can I help you
                today?</div>
              <div class="message-time">10:32 AM</div>
            </div>
          </div>
        </div>
        <div class="chat-input">
          <input type="text" placeholder="Type your message..." id="chat-input-field">

          <!-- üé§ Voice input button -->
          <button class="icon-btn" id="mic-btn" title="Speak your message" style="color: black;">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3s-3 1.34-3 3v6c0 1.66 1.34 3 3 3z"></path>
              <path
                d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z">
              </path>
            </svg>
          </button>

          <!-- üîä Voice reply button -->
          <button class="icon-btn" id="voice-reply-btn" title="Play AI Voice">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="black">
              <path
                d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z">
              </path>
            </svg>
          </button>
          <button class="icon-btn" id="image-upload-btn" title="Upload Image" style="color: black;">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z" />
            </svg>
          </button>
          <input type="file" id="image-file-input" accept="image/*" style="display: none;">
          <button class="send-btn" id="send-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="22" y1="2" x2="11" y2="13"></line>
              <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
          </button>
        </div>

        <!-- Hidden audio element for TTS playback -->
        <audio id="voice-audio" controls style="display:none;"></audio>
      </div>
    </div>

    <!-- Meetings Tab -->
    <div class="tab-content" id="meetings-content">
      <div class="meetings-container">
        <div class="meetings-header">
          <h3>Real-time Meeting Transcription</h3>
          <p>Transcribe and summarize meetings in real-time</p>
        </div>

        <div class="meetings-controls">
          <button class="meeting-btn primary" id="start-meeting-btn">
            üé§ Start Meeting
          </button>


        </div>

        <div class="transcription-container">
          <div class="transcription-header">
            <h4>Live Transcription</h4>

          </div>
          <div class="transcription-output" id="transcription-output">
            <!-- Transcription will appear here -->
          </div>
        </div>

        <div class="summary-container" id="summary-container" style="display: none;">
          <div class="summary-header">
            <h4>Meeting Summary</h4>
          </div>
          <div class="summary-output" id="summary-output">
            <!-- Summary will appear here -->
          </div>
        </div>
      </div>
    </div>

    <!-- Translate Tab -->
    <div class="tab-content" id="translate-content">
      <div class="translate-container">
        <div class="translate-section">
          <label>From</label>
          <select class="language-select" id="from-lang">
            <option value="en">English</option>
            <option value="es">Spanish</option>
            <option value="fr">French</option>
            <option value="de">German</option>
            <option value="hi">Hindi</option>
            <option value="zh">Chinese</option>
            <option value="ja">Japanese</option>
            <option value="ta">Tamil</option>
            <option value="te">Telugu</option>
          </select>
          <textarea class="translate-input" placeholder="Enter text to translate..." id="translate-input"></textarea>
        </div>
        <button class="swap-btn" id="swap-languages">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="17 1 21 5 17 9"></polyline>
            <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
            <polyline points="7 23 3 19 7 15"></polyline>
            <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
          </svg>
        </button>
        <div class="translate-section">
          <label>To</label>
          <select class="language-select" id="to-lang">
            <option value="es">Spanish</option>
            <option value="en">English</option>
            <option value="fr">French</option>
            <option value="de">German</option>
            <option value="hi">Hindi</option>
            <option value="zh">Chinese</option>
            <option value="ja">Japanese</option>
            <option value="ta">Tamil</option>
            <option value="te">Telugu</option>
          </select>
          <div class="translate-output" id="translate-output">Translation will appear here...</div>
        </div>
        <button class="translate-btn" id="translate-btn">Translate</button>
      </div>
    </div>

    <!-- Sentiment Tab -->

    <div class="tab-content" id="summarize-content">
      <div class="summarize-container">
        <div class="summarize-header">
          <h3>Text Summarization</h3>
          <p>Summarize any text using Gemini Nano</p>
        </div>

        <div class="summarize-controls">
          <div class="summarize-option">
            <label>Summary Type:</label>
            <select id="summary-type">
              <option value="key-points">Key Points</option>
              <option value="tldr">TL;DR</option>
              <option value="teaser">Teaser</option>
              <option value="headline">Headline</option>
            </select>
          </div>

          <div class="summarize-option">
            <label>Length:</label>
            <select id="summary-length">
              <option value="short">Short</option>
              <option value="medium">Medium</option>
              <option value="long">Long</option>
            </select>
          </div>

          <div class="summarize-option">
            <label>Format:</label>
            <select id="summary-format">
              <option value="markdown">Markdown</option>
              <option value="plain-text">Plain Text</option>
            </select>
          </div>
        </div>

        <div class="summarize-input-section">
          <label>Additional Context (Optional):</label>
          <input type="text" id="summary-context" placeholder="E.g., This is a technical article about AI..."
            style="width: 100%; padding: 8px; margin: 5px 0; border: 1px solid #ddd; border-radius: 4px;">
        </div>

        <div class="summarize-input-section">
          <label>Text to Summarize:</label>
          <textarea id="summary-input" placeholder="Paste your text here..." rows="10"
            style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; resize: vertical;"></textarea>
        </div>

        <div class="summarize-actions">
          <button class="summarize-btn primary" id="summarize-btn">üìù Generate Summary</button>
          <button class="summarize-btn secondary" id="clear-summary-btn">üóëÔ∏è Clear</button>
        </div>

        <div class="summarize-output">
          <label>Summary Result:</label>
          <div id="summary-result"
            style="border: 1px solid #ddd; border-radius: 4px; padding: 15px; margin-top: 10px; min-height: 100px; background: #f9f9f9;">
            Your summary will appear here...
          </div>
        </div>

        <div class="summarize-status" id="summarize-status" style="margin-top: 10px; font-size: 12px; color: #666;">
          Ready to summarize
        </div>
      </div>
    </div>

    <!-- Settings Tab -->
    <div class="tab-content" id="settings-content">
      <div class="settings-container">

        <div class="settings-section">
          <h3>Language</h3>
          <select class="settings-select" id="default-lang">
            <option value="en">English</option>
            <option value="es">Spanish</option>
            <option value="fr">French</option>
            <option value="de">German</option>
            <option value="hi">Hindi</option>
            <option value="zh">Chinese</option>
            <option value="ja">Japanese</option>
            <option value="ta">Tamil</option>
            <option value="te">Telugu</option>
          </select>
        </div>


        <div class="settings-section">
          <h3>About</h3>
          <div class="about-info">
            <p><strong>Milo Mate v2.0</strong></p>
            <p>Your AI-powered support assistant with multilingual voice capabilities</p>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- External Libraries -->
  <script src="libs/marked.min.js"></script>
  <script src="libs/purify.min.js"></script>

  <!-- Main Application Script -->
  <script src="popup.js"></script>
</body>

</html>